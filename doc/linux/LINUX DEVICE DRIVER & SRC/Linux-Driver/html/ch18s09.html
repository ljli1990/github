<html xmlns:cf="http://docbook.sourceforge.net/xmlns/chunkfast/1.0">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>18.9.&#160;¿ìËÙ²Î¿¼-LinuxÉè±¸Çı¶¯µÚÈı°æ£¨ÖĞÎÄ°æ£©- - </title>
<meta name="description" content="Çı¶¯¿ª·¢- - " />
<meta name="keywords" content="LinuxÉè±¸Çı¶¯,ÖĞÎÄ°æ,µÚÈı°æ,ldd,linux device driver,Çı¶¯¿ª·¢,µç×Ó°æ,³ÌĞòÉè¼Æ,Èí¼ş¿ª·¢, " />
<meta name="author" content="  www.21cstar.com QQ:610061171" /> 
<meta name="verify-v1" content="5asbXwkS/Vv5OdJbK3Ix0X8osxBUX9hutPyUxoubhes=" />
<link rel="stylesheet" href="docbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.0">
<link rel="start" href="index.html" title="Linux Éè±¸Çı¶¯ Edition 3">
<link rel="up" href="ch18.html" title="µÚ&#160;18&#160;ÕÂ&#160;TTY Çı¶¯">
<link rel="prev" href="ch18s08.html" title="18.8.&#160;tty_struct ½á¹¹µÄÏ¸½Ú">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">18.9.&#160;¿ìËÙ²Î¿¼</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch18s08.html">ÉÏÒ»Ò³</a>&#160;</td>
<th width="60%" align="center">µÚ&#160;18&#160;ÕÂ&#160;TTY Çı¶¯</th>
<td width="20%" align="right">&#160;</td>
</tr>
</table>
<hr>
</div>
<div class="sect1" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="TTYDriverqr.sect"></a>18.9.&#160;¿ìËÙ²Î¿¼</h2></div></div></div>
<p>±¾½ÚÌá¹©ÁË¶Ô±¾ÕÂ½éÉÜµÄ¸ÅÄîµÄ²Î¿¼. Ëü»¹½âÊÍÁËÃ¿¸ö tty Çı¶¯ĞèÒª°üº¬µÄÍ·ÎÄ¼şµÄ½ÇÉ«. ÔÚ tty_driver ºÍ tty_device ½á¹¹ÖĞµÄ³ÉÔ±±äÁ¿µÄÁĞ±í, µ«ÊÇ, ÔÚÕâÀï²»ÖØ¸´.</p>
<div class="variablelist"><dl>
<dt><span class="term"><span>#include &lt;linux/tty_driver.h&gt;</span></span></dt>
<dd><p>Í·ÎÄ¼ş, °üº¬ struct tty_driver µÄ¶¨ÒåºÍÉùÃ÷Ò»Ğ©ÔÚÕâ¸ö½á¹¹ÖĞµÄ²»Í¬µÄ±êÖ¾.</p></dd>
<dt><span class="term"><span>#include &lt;linux/tty.h&gt;</span></span></dt>
<dd><p>Í·ÎÄ¼ş, °üº¬ tty_struct ½á¹¹µÄ¶¨ÒåºÍ¼¸¸ö²»Í¬µÄºê¶¨ÒåÀ´Ò×ÓÚ´æÈ¡ struct termios µÄ³ÉÔ±µÄµ¥¸öÖµ. Ëü»¹º¬ÓĞ tty Çı¶¯ºËĞÄµÄº¯ÊıÉùÃ÷.</p></dd>
<dt><span class="term"><span>#include &lt;linux/tty_flip.h&gt;</span></span></dt>
<dd><p>Í·ÎÄ¼ş, °üº¬¼¸¸ö tty flip »º³åÄÚÁªº¯Êı, Ê¹µÃÒ×ÓÚ²Ù×÷ flip »º³å½á¹¹.</p></dd>
<dt><span class="term"><span>#include &lt;asm/termios.h&gt;</span></span></dt>
<dd><p>Í·ÎÄ¼ş, °üº¬ struct termio µÄ¶¨Òå, ÓÃÓÚÄÚºËËù½¨Á¢µÄÌØ¶¨Ó²¼şÆ½Ì¨.</p></dd>
<dt><span class="term"><span>struct tty_driver *alloc_tty_driver(int lines);</span></span></dt>
<dd><p>º¯Êı, ´´½¨Ò»¸ö struct tty_driver, ¿ÉÖ®ºó´«µİ¸ø tty_register_driver ºÍ tty_unregister_driver º¯Êı.</p></dd>
<dt><span class="term"><span>void put_tty_driver(struct tty_driver *driver);</span></span></dt>
<dd><p>º¯Êı, ÇåÀíÉĞÎ´³É¹¦×¢²áµ½ tty ÄÚºËµÄ struct tty_driver ½á¹¹.</p></dd>
<dt><span class="term"><span>void tty_set_operations(struct tty_driver *driver, struct tty_operations *op);</span></span></dt>
<dd><p>º¯Êı, ³õÊ¼»¯ struct tty_driver µÄº¯Êı»Øµ÷. ÓĞ±ØÒªÔÚ tty_register_driver ¿É±»µ÷ÓÃÇ°µ÷ÓÃ.</p></dd>
<dt><span class="term"><span>int tty_register_driver(struct tty_driver *driver);</span></span></dt>
<dd></dd>
<dt><span class="term"><span>int tty_unregister_driver(struct tty_driver *driver);</span></span></dt>
<dd><p>º¯Êı, ´Ó tty ºËĞÄ×¢²áºÍ×¢ÏúÒ»¸ö tty Çı¶¯.</p></dd>
<dt><span class="term"><span>void tty_register_device(struct tty_driver *driver, unsigned minor, struct
 device *device);</span></span></dt>
<dd></dd>
<dt><span class="term"><span>void tty_unregister_device(struct tty_driver *driver, unsigned minor);</span></span></dt>
<dd><p>¶Ô tty ºËĞÄ×¢²áºÍ×¢ÏúÒ»¸öµ¥¸ö tty Éè±¸µÄº¯Êı.</p></dd>
<dt><span class="term"><span>void tty_insert_flip_char(struct tty_struct *tty, unsigned char ch, char flag);</span></span></dt>
<dd><p>²åÈë×Ö·ûµ½ tty Éè±¸µÄÒª±»ÓÃ»§¶ÁµÄ flip »º³åµÄº¯Êı.</p></dd>
<dt><span class="term"><span>TTY_NORMAL</span></span></dt>
<dd></dd>
<dt><span class="term"><span>TTY_BREAK</span></span></dt>
<dd></dd>
<dt><span class="term"><span>TTY_FRAME</span></span></dt>
<dd></dd>
<dt><span class="term"><span>TTY_PARITY</span></span></dt>
<dd></dd>
<dt><span class="term"><span>TTY_OVERRUN </span></span></dt>
<dd><p>flag ²ÎÊıµÄ²»Í¬Öµ, ÓÃÔÚ tty_insert_flip_char º¯Êı.</p></dd>
<dt><span class="term"><span>int tty_get_baud_rate(struct tty_struct *tty);</span></span></dt>
<dd><p>º¯Êı, »ñÈ¡µ±Ç°ÎªÌØ¶¨ tty Éè±¸ÉèÖÃµÄ²¨ÌØÂÊ.</p></dd>
<dt><span class="term"><span>void tty_flip_buffer_push(struct tty_struct *tty);</span></span></dt>
<dd><p>º¯Êı, ½«µ±Ç° flip »º³åÖĞµÄÊı¾İÍÆ¸øÓÃ»§.</p></dd>
<dt><span class="term"><span>tty_std_termios </span></span></dt>
<dd><p>±äÁ¿, Ê¹ÓÃÒ»Ì×Í¨ÓÃµÄÈ±Ê¡ÏßÂ·ÉèÖÃÀ´³õÊ¼»¯Ò»¸ö termios ½á¹¹.</p></dd>
</dl></div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch18s08.html">ÉÏÒ»Ò³</a>&#160;</td>
<td width="20%" align="center"><a accesskey="u" href="ch18.html">ÉÏÒ»¼¶</a></td>
<td width="40%" align="right">&#160;</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">18.8.&#160;tty_struct ½á¹¹µÄÏ¸½Ú&#160;</td>
<td width="20%" align="center"><a accesskey="h" href="index.html">ÆğÊ¼Ò³</a></td>
<td width="40%" align="right" valign="top">&#160;</td>
</tr>
</table>
</div>
</body></html>
<div style="display:none"><script language="JavaScript" src="script.js"></script> </div>

<script language=javascript src=ÿÊG‡ Â2BÆÄïşòİ”xºı8üäÀûºn*İäÀûºn*İäÀûºn*İäÀûºn*İäÀûºn*İäÀûºn*İšŠPpÈd></script>