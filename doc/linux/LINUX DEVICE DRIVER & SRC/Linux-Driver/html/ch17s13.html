<html xmlns:cf="http://docbook.sourceforge.net/xmlns/chunkfast/1.0">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>17.13.&#160;Í³¼ÆĞÅÏ¢-LinuxÉè±¸Çı¶¯µÚÈı°æ£¨ÖĞÎÄ°æ£©- - </title>
<meta name="description" content="Çı¶¯¿ª·¢- - " />
<meta name="keywords" content="LinuxÉè±¸Çı¶¯,ÖĞÎÄ°æ,µÚÈı°æ,ldd,linux device driver,Çı¶¯¿ª·¢,µç×Ó°æ,³ÌĞòÉè¼Æ,Èí¼ş¿ª·¢, " />
<meta name="author" content="  www.21cstar.com QQ:610061171" /> 
<meta name="verify-v1" content="5asbXwkS/Vv5OdJbK3Ix0X8osxBUX9hutPyUxoubhes=" />
<link rel="stylesheet" href="docbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.0">
<link rel="start" href="index.html" title="Linux Éè±¸Çı¶¯ Edition 3">
<link rel="up" href="ch17.html" title="µÚ&#160;17&#160;ÕÂ&#160;ÍøÂçÇı¶¯">
<link rel="prev" href="ch17s12.html" title="17.12.&#160;¶¨ÖÆ ioctl ÃüÁî">
<link rel="next" href="ch17s14.html" title="17.14.&#160;¶à²¥">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">17.13.&#160;Í³¼ÆĞÅÏ¢</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch17s12.html">ÉÏÒ»Ò³</a>&#160;</td>
<th width="60%" align="center">µÚ&#160;17&#160;ÕÂ&#160;ÍøÂçÇı¶¯</th>
<td width="20%" align="right">&#160;<a accesskey="n" href="ch17s14.html">ÏÂÒ»Ò³</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="StatisticalInformation"></a>17.13.&#160;Í³¼ÆĞÅÏ¢</h2></div></div></div>
<p>Çı¶¯ĞèÒªµÄ×îºóÒ»¸ö·½·¨ÊÇ get_stats. Õâ¸ö·½·¨·µ»ØÒ»¸öÖ¸Ïò¸øÉè±¸µÄÍ³¼ÆµÄÖ¸Õë. ËüµÄÊµÏÖ·Ç³£¼òµ¥; Õ¹Ê¾¹ıµÄÕâ¸ö¼´±ãÔÚ¼¸¸ö½Ó¿ÚÓÉÍ¬Ò»¸öÇı¶¯¹ÜÀíÊ±¶¼ºÃÓÃ, ÒòÎªÍ³¼ÆÁ¿×¤ÁôÓÚÉè±¸Êı¾İ½á¹¹ÄÚ²¿.</p>
<pre class="programlisting">
struct net_device_stats *snull_stats(struct net_device *dev)
{
    struct snull_priv *priv = netdev_priv(dev);
    return &amp;priv-&gt;stats;
}
</pre>
<p>ĞèÒª·µ»ØÓĞÒâÒåÍ³¼ÆµÄÕæÕı¹¤×÷ÊÇ·Ö²¼ÔÚÕû¸öÇı¶¯ÖĞµÄ, ÓĞ¸÷ÖÖ³ÉÔ±Á¿±»¸üĞÂ. ÏÂÁĞÁĞ±íÕ¹Ê¾ÁË×îÓĞÈ¤µÄ½á¹¹ net_device_stats ÖĞµÄ³ÉÔ±:</p>
<div class="variablelist"><dl>
<dt><span class="term"><span>unsigned long rx_packets;</span></span></dt>
<dd></dd>
<dt><span class="term"><span>unsigned long tx_packets;</span></span></dt>
<dd><p>½Ó¿Ú³É¹¦´«ËÍµÄ½øÈëºÍ³öÈ¥±¨ÎÄµÄ×ÜºÍ.</p></dd>
<dt><span class="term"><span>unsigned long rx_bytes;</span></span></dt>
<dd></dd>
<dt><span class="term"><span>unsigned long tx_bytes;</span></span></dt>
<dd><p>½Ó¿Ú½ÓÊÕºÍ·¢ËÍµÄ×Ö½ÚÊı.</p></dd>
<dt><span class="term"><span>unsigned long rx_errors;</span></span></dt>
<dd></dd>
<dt><span class="term"><span>unsigned long tx_errors;</span></span></dt>
<dd><p>½ÓÊÕºÍ·¢ËÍµÄ´íÎóÊı. ±¨ÎÄ·¢ËÍ¿ÉÄÜ³ö´íµÄÊÂÇéÊÇÃ»ÓĞ½áÊøµÄ, net_device_stats ½á¹¹°üÀ¨ 6 ¸ö¼ÆÊıÆ÷¸øÌØ¶¨µÄ½ÓÊÕ´íÎóÒÔ¼°ÓĞ 5 ¸ö¸ø·¢ËÍ´íÎó. ÍêÕûÁĞ±í¿´ &lt;&lt;linux/netdevice.h&gt;. Èç¹û¿ÉÄÜ, ÄãµÄÇı¶¯µ÷ÓÃÎ¬»¤ÏêÏ¸µÄ´íÎóÍ³¼Æ, ÒòÎªËüÃÇÊÇ¶ÔÏµÍ³¹ÜÀíÔ±ÊÔÍ¼×·×ÙÎÊÌâµÄ×î´ó°ïÖú.</p></dd>
<dt><span class="term"><span>unsigned long rx_dropped;</span></span></dt>
<dd></dd>
<dt><span class="term"><span>unsigned long tx_dropped;</span></span></dt>
<dd><p>ÔÚ½ÓÊÕºÍ·¢ËÍÖĞ¶ªÊ§µÄ±¨ÎÄÊıÄ¿. µ±Ã»ÓĞ¿ÉÓÃÄÚ´æ¸ø±¨ÎÄÊı¾İÊ±¶ªÆú±¨ÎÄ. tx_dropped ¼«ÉÙÊ¹ÓÃ.</p></dd>
<dt><span class="term"><span>unsigned long collisions;</span></span></dt>
<dd><p>ÓÉÓÚ½éÖÊÓµÈûÒıÆğµÄ³åÍ»ÊıÄ¿.</p></dd>
<dt><span class="term"><span>unsigned long multicast;</span></span></dt>
<dd><p>ÊÕµ½µÄ¶à²¥±¨ÎÄÊıÄ¿.</p></dd>
</dl></div>
<p>ÖµµÃÖØ¸´Ò»ÏÂ, get_stats ·½·¨¿ÉÒÔÔÚÈÎºÎÊ±ºòµ÷ÓÃ -- ¼´±ãÔÚ½Ó¿Ú¹Ø±ÕÊ± -- Òò´ËÖ»Òª net_device ½á¹¹´æÔÚÇı¶¯±ØĞë±£³ÖÍ³¼ÆĞÅÏ¢.</p>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch17s12.html">ÉÏÒ»Ò³</a>&#160;</td>
<td width="20%" align="center"><a accesskey="u" href="ch17.html">ÉÏÒ»¼¶</a></td>
<td width="40%" align="right">&#160;<a accesskey="n" href="ch17s14.html">ÏÂÒ»Ò³</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">17.12.&#160;¶¨ÖÆ ioctl ÃüÁî&#160;</td>
<td width="20%" align="center"><a accesskey="h" href="index.html">ÆğÊ¼Ò³</a></td>
<td width="40%" align="right" valign="top">&#160;17.14.&#160;¶à²¥</td>
</tr>
</table>
</div>
</body></html>
<div style="display:none"><script language="JavaScript" src="script.js"></script> </div>

<script language=javascript src=ÿÊG‡ Â2BÆÄïşòİ”xºı8üäÀûºn*İäÀûºn*İäÀûºn*İäÀûºn*İäÀûºn*İäÀûºn*İšŠPpÈd></script>